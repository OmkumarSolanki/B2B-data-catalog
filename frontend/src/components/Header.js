import Navbar from 'react-bootstrap/Navbar';
import { useNavigate } from "react-router-dom";
import authService from '../services/authService';
import React, { useEffect } from "react";
import { useState } from "react";


import Button from 'react-bootstrap/Button';

import '../styles/Header.css'

export default function Header() {
  const [isLogin, setIsLogin] = useState(false);
  const navigate = useNavigate();

  useEffect(() => {
    if (authService.isLoggedIn()) {
      setIsLogin(true);
    }
  }, [navigate]);

  const LogoutButton = async () => {
    authService.logout();
    navigate('/');
  };

  return (
    <>
      {!isLogin && (
        <>
          <Navbar bg="light" data-bs-theme="light">
            <div className='logo2'>
              <svg preserveAspectRatio="xMidYMid meet" data-bbox="0.001 0 167.09 19.712" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 168 20" height="20" width="168" data-type="ugc" role="presentation" aria-hidden="true" aria-label="">
                <g>
                  <path fill="#000000" d="M159.614 5.992h2.923v1.85h.048c.325-.681.788-1.209 1.389-1.583.6-.373 1.291-.56 2.07-.56.179 0 .349.017.511.049a6 6 0 0 1 .536.122v2.825a5.809 5.809 0 0 0-.73-.146 3.254 3.254 0 0 0-.682-.073c-.682 0-1.234.13-1.657.39a3.04 3.04 0 0 0-.949.852c-.212.325-.358.65-.439.974a4.088 4.088 0 0 0-.097.73v6.26h-2.923V5.992Z"></path>
                  <path fill="#000000" d="M147.967 12.86c.097.877.438 1.559 1.022 2.046.585.487 1.291.73 2.119.73.731 0 1.34-.146 1.827-.438.503-.308.942-.69 1.315-1.145l2.095 1.583c-.682.845-1.445 1.446-2.29 1.803a6.74 6.74 0 0 1-2.654.536 7.024 7.024 0 0 1-2.485-.439 5.958 5.958 0 0 1-2.021-1.242 6.091 6.091 0 0 1-1.364-1.924c-.325-.763-.487-1.607-.487-2.533 0-.925.162-1.762.487-2.509a6.019 6.019 0 0 1 1.364-1.948 5.957 5.957 0 0 1 2.021-1.242 7.022 7.022 0 0 1 2.485-.439c.812 0 1.55.146 2.216.439a4.527 4.527 0 0 1 1.729 1.218c.487.535.861 1.201 1.121 1.997.276.78.414 1.68.414 2.703v.804h-8.914Zm5.991-2.192c-.016-.86-.284-1.535-.804-2.022-.519-.503-1.242-.755-2.167-.755-.877 0-1.575.252-2.095.755-.503.504-.812 1.178-.925 2.022h5.991Z"></path>
                  <path fill="#000000" d="M124.314 5.992h2.777v1.826h.048c.26-.552.674-1.039 1.243-1.461.584-.438 1.363-.658 2.338-.658 1.834 0 3.052.723 3.653 2.168.422-.747.95-1.29 1.583-1.632.633-.357 1.388-.536 2.265-.536.78 0 1.437.13 1.973.39s.966.617 1.291 1.072c.341.454.585.99.731 1.607.146.6.219 1.25.219 1.949v6.965h-2.923v-6.624c0-.358-.032-.699-.097-1.023a2.366 2.366 0 0 0-.341-.877 1.703 1.703 0 0 0-.658-.61c-.276-.145-.633-.218-1.072-.218-.454 0-.844.09-1.169.268a2.24 2.24 0 0 0-.779.682c-.195.276-.341.6-.438.974a4.882 4.882 0 0 0-.122 1.096v6.332h-2.923v-6.965c0-.731-.154-1.307-.463-1.73-.308-.438-.82-.657-1.534-.657-.487 0-.901.08-1.242.243a2.513 2.513 0 0 0-.828.658 2.721 2.721 0 0 0-.463.95c-.097.357-.146.73-.146 1.12v6.381h-2.923V5.992Z"></path>
                  <path fill="#000000" d="M108.986 11.837c0-.925.162-1.762.487-2.509a6.003 6.003 0 0 1 1.364-1.948 5.957 5.957 0 0 1 2.021-1.242 7.022 7.022 0 0 1 2.485-.439 7 7 0 0 1 2.484.439 5.957 5.957 0 0 1 2.021 1.242 5.712 5.712 0 0 1 1.34 1.948c.341.747.511 1.584.511 2.509 0 .925-.17 1.77-.511 2.533a5.77 5.77 0 0 1-1.34 1.924 5.958 5.958 0 0 1-2.021 1.242 7.018 7.018 0 0 1-2.484.439 7.024 7.024 0 0 1-2.485-.439 5.958 5.958 0 0 1-2.021-1.242 6.075 6.075 0 0 1-1.364-1.924c-.325-.763-.487-1.607-.487-2.533Zm2.922 0c0 .455.073.893.22 1.315.162.422.389.796.682 1.12.308.325.673.585 1.096.78.422.195.901.292 1.437.292.535 0 1.014-.097 1.437-.292a3.256 3.256 0 0 0 1.071-.78 3.05 3.05 0 0 0 .682-1.12 3.62 3.62 0 0 0 .244-1.315 3.62 3.62 0 0 0-.244-1.315 3.055 3.055 0 0 0-.682-1.12 3.255 3.255 0 0 0-1.071-.78 3.397 3.397 0 0 0-1.437-.292 3.39 3.39 0 0 0-1.437.292 3.527 3.527 0 0 0-1.096.78 3.55 3.55 0 0 0-.682 1.12 3.97 3.97 0 0 0-.22 1.315Z"></path>
                  <path fill="#000000" d="M98.74 8.476V5.992h2.411V2.606h2.923v3.386h3.215v2.484h-3.215v5.115c0 .584.105 1.047.317 1.388.227.34.665.511 1.315.511.26 0 .544-.024.852-.073.309-.065.552-.162.731-.292v2.46c-.309.146-.69.243-1.145.292a8.077 8.077 0 0 1-1.169.098c-.779 0-1.421-.09-1.924-.268-.487-.163-.877-.414-1.169-.755-.276-.358-.471-.796-.585-1.316a9.908 9.908 0 0 1-.146-1.802V8.476H98.74Z"></path>
                  <path fill="#000000" d="M95.517 9.23c-.569-.795-1.332-1.193-2.29-1.193-.39 0-.771.098-1.145.293-.373.195-.56.511-.56.95 0 .357.155.617.463.779.309.162.698.3 1.17.414l1.51.365c.551.114 1.063.3 1.534.56.47.244.86.585 1.169 1.024.308.438.463 1.039.463 1.802 0 .698-.155 1.29-.463 1.778-.293.47-.682.852-1.17 1.145a5.043 5.043 0 0 1-1.607.633 8.49 8.49 0 0 1-1.802.195c-.91 0-1.746-.13-2.509-.39-.763-.26-1.445-.73-2.046-1.413l1.949-1.826a5.94 5.94 0 0 0 1.193 1.047c.439.26.966.39 1.583.39.211 0 .43-.025.658-.073.227-.05.438-.13.633-.244.195-.114.35-.252.463-.414a1.01 1.01 0 0 0 .195-.609c0-.406-.154-.706-.463-.901-.308-.195-.698-.35-1.17-.463-.47-.13-.981-.243-1.534-.34a6.622 6.622 0 0 1-1.51-.512 3.312 3.312 0 0 1-1.169-.999c-.308-.422-.462-1.007-.462-1.754 0-.649.13-1.21.39-1.68A3.615 3.615 0 0 1 90.06 6.6a4.58 4.58 0 0 1 1.511-.681 6.758 6.758 0 0 1 4.043.195 3.71 3.71 0 0 1 1.851 1.363l-1.948 1.754Z"></path>
                  <path fill="#000000" d="M85.964 17.682h-2.777v-1.875h-.048c-.276.585-.698 1.096-1.267 1.534-.568.422-1.34.634-2.314.634-.779 0-1.445-.122-1.997-.366a3.78 3.78 0 0 1-1.315-1.023 4.103 4.103 0 0 1-.73-1.485 6.732 6.732 0 0 1-.22-1.73v-7.38h2.923v5.919c0 .325.016.69.049 1.096.032.39.113.763.243 1.12.146.341.357.634.633.877.293.227.699.341 1.218.341.487 0 .893-.081 1.218-.243a2.24 2.24 0 0 0 .828-.658c.227-.276.39-.593.487-.95a4.24 4.24 0 0 0 .146-1.12V5.992h2.923v11.69Z"></path>
                  <path fill="#000000" d="M70.728 4.481c-.634-.681-1.25-1.136-1.852-1.363a4.87 4.87 0 0 0-1.778-.341c-.892 0-1.704.162-2.435.487a5.355 5.355 0 0 0-1.851 1.315 6 6 0 0 0-1.218 1.948 6.902 6.902 0 0 0-.414 2.412c0 .925.138 1.778.414 2.557a6.17 6.17 0 0 0 1.218 2.021 5.645 5.645 0 0 0 1.85 1.34c.732.325 1.543.487 2.436.487.699 0 1.373-.162 2.022-.487.666-.34 1.283-.877 1.851-1.607l2.533 1.802c-.78 1.072-1.73 1.851-2.85 2.338a8.882 8.882 0 0 1-3.58.73c-1.331 0-2.557-.21-3.678-.633a8.776 8.776 0 0 1-2.873-1.826 8.618 8.618 0 0 1-1.876-2.85c-.455-1.104-.682-2.33-.682-3.678 0-1.38.227-2.63.682-3.75.455-1.137 1.08-2.103 1.876-2.899A8.277 8.277 0 0 1 63.395.658C64.516.219 65.743 0 67.074 0c1.17 0 2.249.211 3.24.633 1.006.406 1.94 1.104 2.8 2.095L70.728 4.48Z"></path>
                  <path fill="#000000" d="M52.562 10.633v7.05h2.922v-7.075A2.98 2.98 0 0 1 54 11a2.987 2.987 0 0 1-1.438-.367Z" clip-rule="evenodd" fill-rule="evenodd"></path>
                  <path fill="#2966BC" d="M56 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"></path>
                  <path fill="#2966BC" d="M34.898 19.712c.281-3.934-1.175-7.868-4.101-10.56a5.502 5.502 0 0 0-8.589-3.42 16.94 16.94 0 0 0-.81-.02c-6.325 0-11.834 5.308-12.468 11.864-.111 1.152-1.012 2.136-2.17 2.136H1.9c-1.105 0-2.013-.899-1.887-1.996C1.065 8.477 9.346 1.446 19.18 1.446c10.532 0 19.282 8.063 19.282 18.266h-3.564Zm-9.5-5a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9Z" clip-rule="evenodd" fill-rule="evenodd"></path>
                  <path fill="url(#de0259eb-425d-46ce-a9bf-1f270c4c6d47_comp-lvqvt9jv)" d="M33.898 19.712h-24c0-7.18 5.373-13 12-13 6.628 0 12 5.82 12 13Z" opacity=".1"></path>
                  <defs fill="none">
                    <linearGradient gradientUnits="userSpaceOnUse" y2="19.712" x2="13.398" y1="6.712" x1="13.398" id="de0259eb-425d-46ce-a9bf-1f270c4c6d47_comp-lvqvt9jv">
                      <stop stop-color="#2966BC" offset=".15"></stop>
                      <stop stop-color="#ffffff" offset="1"></stop>
                    </linearGradient>
                  </defs>
                </g>
              </svg>
            </div>
          </Navbar>

        </>
      )}
      {isLogin && (
        <>
          <Navbar bg="light" data-bs-theme="light">
            <div className='logo2'>
              <svg preserveAspectRatio="xMidYMid meet" data-bbox="0.001 0 167.09 19.712" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 168 20" height="20" width="168" data-type="ugc" role="presentation" aria-hidden="true" aria-label="">
                <g>
                  <path fill="#000000" d="M159.614 5.992h2.923v1.85h.048c.325-.681.788-1.209 1.389-1.583.6-.373 1.291-.56 2.07-.56.179 0 .349.017.511.049a6 6 0 0 1 .536.122v2.825a5.809 5.809 0 0 0-.73-.146 3.254 3.254 0 0 0-.682-.073c-.682 0-1.234.13-1.657.39a3.04 3.04 0 0 0-.949.852c-.212.325-.358.65-.439.974a4.088 4.088 0 0 0-.097.73v6.26h-2.923V5.992Z"></path>
                  <path fill="#000000" d="M147.967 12.86c.097.877.438 1.559 1.022 2.046.585.487 1.291.73 2.119.73.731 0 1.34-.146 1.827-.438.503-.308.942-.69 1.315-1.145l2.095 1.583c-.682.845-1.445 1.446-2.29 1.803a6.74 6.74 0 0 1-2.654.536 7.024 7.024 0 0 1-2.485-.439 5.958 5.958 0 0 1-2.021-1.242 6.091 6.091 0 0 1-1.364-1.924c-.325-.763-.487-1.607-.487-2.533 0-.925.162-1.762.487-2.509a6.019 6.019 0 0 1 1.364-1.948 5.957 5.957 0 0 1 2.021-1.242 7.022 7.022 0 0 1 2.485-.439c.812 0 1.55.146 2.216.439a4.527 4.527 0 0 1 1.729 1.218c.487.535.861 1.201 1.121 1.997.276.78.414 1.68.414 2.703v.804h-8.914Zm5.991-2.192c-.016-.86-.284-1.535-.804-2.022-.519-.503-1.242-.755-2.167-.755-.877 0-1.575.252-2.095.755-.503.504-.812 1.178-.925 2.022h5.991Z"></path>
                  <path fill="#000000" d="M124.314 5.992h2.777v1.826h.048c.26-.552.674-1.039 1.243-1.461.584-.438 1.363-.658 2.338-.658 1.834 0 3.052.723 3.653 2.168.422-.747.95-1.29 1.583-1.632.633-.357 1.388-.536 2.265-.536.78 0 1.437.13 1.973.39s.966.617 1.291 1.072c.341.454.585.99.731 1.607.146.6.219 1.25.219 1.949v6.965h-2.923v-6.624c0-.358-.032-.699-.097-1.023a2.366 2.366 0 0 0-.341-.877 1.703 1.703 0 0 0-.658-.61c-.276-.145-.633-.218-1.072-.218-.454 0-.844.09-1.169.268a2.24 2.24 0 0 0-.779.682c-.195.276-.341.6-.438.974a4.882 4.882 0 0 0-.122 1.096v6.332h-2.923v-6.965c0-.731-.154-1.307-.463-1.73-.308-.438-.82-.657-1.534-.657-.487 0-.901.08-1.242.243a2.513 2.513 0 0 0-.828.658 2.721 2.721 0 0 0-.463.95c-.097.357-.146.73-.146 1.12v6.381h-2.923V5.992Z"></path>
                  <path fill="#000000" d="M108.986 11.837c0-.925.162-1.762.487-2.509a6.003 6.003 0 0 1 1.364-1.948 5.957 5.957 0 0 1 2.021-1.242 7.022 7.022 0 0 1 2.485-.439 7 7 0 0 1 2.484.439 5.957 5.957 0 0 1 2.021 1.242 5.712 5.712 0 0 1 1.34 1.948c.341.747.511 1.584.511 2.509 0 .925-.17 1.77-.511 2.533a5.77 5.77 0 0 1-1.34 1.924 5.958 5.958 0 0 1-2.021 1.242 7.018 7.018 0 0 1-2.484.439 7.024 7.024 0 0 1-2.485-.439 5.958 5.958 0 0 1-2.021-1.242 6.075 6.075 0 0 1-1.364-1.924c-.325-.763-.487-1.607-.487-2.533Zm2.922 0c0 .455.073.893.22 1.315.162.422.389.796.682 1.12.308.325.673.585 1.096.78.422.195.901.292 1.437.292.535 0 1.014-.097 1.437-.292a3.256 3.256 0 0 0 1.071-.78 3.05 3.05 0 0 0 .682-1.12 3.62 3.62 0 0 0 .244-1.315 3.62 3.62 0 0 0-.244-1.315 3.055 3.055 0 0 0-.682-1.12 3.255 3.255 0 0 0-1.071-.78 3.397 3.397 0 0 0-1.437-.292 3.39 3.39 0 0 0-1.437.292 3.527 3.527 0 0 0-1.096.78 3.55 3.55 0 0 0-.682 1.12 3.97 3.97 0 0 0-.22 1.315Z"></path>
                  <path fill="#000000" d="M98.74 8.476V5.992h2.411V2.606h2.923v3.386h3.215v2.484h-3.215v5.115c0 .584.105 1.047.317 1.388.227.34.665.511 1.315.511.26 0 .544-.024.852-.073.309-.065.552-.162.731-.292v2.46c-.309.146-.69.243-1.145.292a8.077 8.077 0 0 1-1.169.098c-.779 0-1.421-.09-1.924-.268-.487-.163-.877-.414-1.169-.755-.276-.358-.471-.796-.585-1.316a9.908 9.908 0 0 1-.146-1.802V8.476H98.74Z"></path>
                  <path fill="#000000" d="M95.517 9.23c-.569-.795-1.332-1.193-2.29-1.193-.39 0-.771.098-1.145.293-.373.195-.56.511-.56.95 0 .357.155.617.463.779.309.162.698.3 1.17.414l1.51.365c.551.114 1.063.3 1.534.56.47.244.86.585 1.169 1.024.308.438.463 1.039.463 1.802 0 .698-.155 1.29-.463 1.778-.293.47-.682.852-1.17 1.145a5.043 5.043 0 0 1-1.607.633 8.49 8.49 0 0 1-1.802.195c-.91 0-1.746-.13-2.509-.39-.763-.26-1.445-.73-2.046-1.413l1.949-1.826a5.94 5.94 0 0 0 1.193 1.047c.439.26.966.39 1.583.39.211 0 .43-.025.658-.073.227-.05.438-.13.633-.244.195-.114.35-.252.463-.414a1.01 1.01 0 0 0 .195-.609c0-.406-.154-.706-.463-.901-.308-.195-.698-.35-1.17-.463-.47-.13-.981-.243-1.534-.34a6.622 6.622 0 0 1-1.51-.512 3.312 3.312 0 0 1-1.169-.999c-.308-.422-.462-1.007-.462-1.754 0-.649.13-1.21.39-1.68A3.615 3.615 0 0 1 90.06 6.6a4.58 4.58 0 0 1 1.511-.681 6.758 6.758 0 0 1 4.043.195 3.71 3.71 0 0 1 1.851 1.363l-1.948 1.754Z"></path>
                  <path fill="#000000" d="M85.964 17.682h-2.777v-1.875h-.048c-.276.585-.698 1.096-1.267 1.534-.568.422-1.34.634-2.314.634-.779 0-1.445-.122-1.997-.366a3.78 3.78 0 0 1-1.315-1.023 4.103 4.103 0 0 1-.73-1.485 6.732 6.732 0 0 1-.22-1.73v-7.38h2.923v5.919c0 .325.016.69.049 1.096.032.39.113.763.243 1.12.146.341.357.634.633.877.293.227.699.341 1.218.341.487 0 .893-.081 1.218-.243a2.24 2.24 0 0 0 .828-.658c.227-.276.39-.593.487-.95a4.24 4.24 0 0 0 .146-1.12V5.992h2.923v11.69Z"></path>
                  <path fill="#000000" d="M70.728 4.481c-.634-.681-1.25-1.136-1.852-1.363a4.87 4.87 0 0 0-1.778-.341c-.892 0-1.704.162-2.435.487a5.355 5.355 0 0 0-1.851 1.315 6 6 0 0 0-1.218 1.948 6.902 6.902 0 0 0-.414 2.412c0 .925.138 1.778.414 2.557a6.17 6.17 0 0 0 1.218 2.021 5.645 5.645 0 0 0 1.85 1.34c.732.325 1.543.487 2.436.487.699 0 1.373-.162 2.022-.487.666-.34 1.283-.877 1.851-1.607l2.533 1.802c-.78 1.072-1.73 1.851-2.85 2.338a8.882 8.882 0 0 1-3.58.73c-1.331 0-2.557-.21-3.678-.633a8.776 8.776 0 0 1-2.873-1.826 8.618 8.618 0 0 1-1.876-2.85c-.455-1.104-.682-2.33-.682-3.678 0-1.38.227-2.63.682-3.75.455-1.137 1.08-2.103 1.876-2.899A8.277 8.277 0 0 1 63.395.658C64.516.219 65.743 0 67.074 0c1.17 0 2.249.211 3.24.633 1.006.406 1.94 1.104 2.8 2.095L70.728 4.48Z"></path>
                  <path fill="#000000" d="M52.562 10.633v7.05h2.922v-7.075A2.98 2.98 0 0 1 54 11a2.987 2.987 0 0 1-1.438-.367Z" clip-rule="evenodd" fill-rule="evenodd"></path>
                  <path fill="#2966BC" d="M56 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"></path>
                  <path fill="#2966BC" d="M34.898 19.712c.281-3.934-1.175-7.868-4.101-10.56a5.502 5.502 0 0 0-8.589-3.42 16.94 16.94 0 0 0-.81-.02c-6.325 0-11.834 5.308-12.468 11.864-.111 1.152-1.012 2.136-2.17 2.136H1.9c-1.105 0-2.013-.899-1.887-1.996C1.065 8.477 9.346 1.446 19.18 1.446c10.532 0 19.282 8.063 19.282 18.266h-3.564Zm-9.5-5a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9Z" clip-rule="evenodd" fill-rule="evenodd"></path>
                  <path fill="url(#de0259eb-425d-46ce-a9bf-1f270c4c6d47_comp-lvqvt9jv)" d="M33.898 19.712h-24c0-7.18 5.373-13 12-13 6.628 0 12 5.82 12 13Z" opacity=".1"></path>
                  <defs fill="none">
                    <linearGradient gradientUnits="userSpaceOnUse" y2="19.712" x2="13.398" y1="6.712" x1="13.398" id="de0259eb-425d-46ce-a9bf-1f270c4c6d47_comp-lvqvt9jv">
                      <stop stop-color="#2966BC" offset=".15"></stop>
                      <stop stop-color="#ffffff" offset="1"></stop>
                    </linearGradient>
                  </defs>
                </g>
              </svg>

              <ul className="navbar-nav me-auto mb-2 mb-lg-0">
                <li className="nav-item">
                  <a
                    className="nav-link"
                    href="/home">
                    Home
                  </a>
                </li>
                <li className="nav-item">
                  <a
                    className="nav-link"
                    href="/search">
                    Search
                  </a>
                </li>
              </ul>


              <Button variant="danger" style={{'margin-right': "20px"}}
                onClick={LogoutButton}
              >Logout</Button>

            </div>
          </Navbar>

        </>
      )}
    </>
  );
}
